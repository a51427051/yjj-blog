<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.66">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>性能优化 | 十三月的博客</title><meta name="description" content="这是一个个人博客，正在搭建中~">
    <link rel="preload" href="/yjj-blog/assets/style-c93b2d3d.css" as="style"><link rel="stylesheet" href="/yjj-blog/assets/style-c93b2d3d.css">
    <link rel="modulepreload" href="/yjj-blog/assets/app-b5630a42.js"><link rel="modulepreload" href="/yjj-blog/assets/performance.html-0d7ff634.js"><link rel="modulepreload" href="/yjj-blog/assets/performance.html-ec824279.js"><link rel="prefetch" href="/yjj-blog/assets/interview.html-604eb62d.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/index.html-aaa87484.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/ES6.html-f98742e6.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/index.html-1ee2631f.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/UDP_TCP.html-d06d1edd.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/webPage.html-79a88b1e.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/semantic.html-78e58a4e.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/yunnan.html-2656e206.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/nullOperator.html-08065ecb.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/call.html-81b50c85.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/class.html-21aa4703.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/findIndex.html-60f2a083.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/var.html-5120113a.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/arrayIncludes.html-b641e0b2.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/exponentiationOperator.html-99d58c9f.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/arrayFrom.html-4942ca27.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/jsType.html-c096c333.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/semicolon.html-d0d5407c.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/symbol.html-dcd29ce2.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/token.html-963465b5.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/objectKeys.html-217a42d6.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/desginLinkedList.html-71697ddf.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/interview.html-fb21ae0b.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/index.html-21df8ae4.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/ES6.html-2e411876.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/index.html-4685d539.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/UDP_TCP.html-78c4f4ad.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/webPage.html-285a7afa.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/semantic.html-cec2d9cb.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/yunnan.html-244c9c83.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/nullOperator.html-ca92e6c9.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/call.html-26af6d7c.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/class.html-0a7622e6.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/findIndex.html-0552c7db.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/var.html-b91108ff.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/arrayIncludes.html-87753f58.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/exponentiationOperator.html-1e690dda.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/arrayFrom.html-71021f26.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/jsType.html-cbacd157.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/semicolon.html-cfbab3b6.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/symbol.html-21986c93.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/token.html-633c2b13.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/objectKeys.html-b00bd97a.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/desginLinkedList.html-6712fbfe.js" as="script"><link rel="prefetch" href="/yjj-blog/assets/404.html-8c2411ae.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/yjj-blog/" class=""><!----><span class="site-name">十三月的博客</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/yjj-blog/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/yjj-blog/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/yjj-blog/" class="sidebar-item sidebar-heading"><!--[--><!--]-->  <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yjj-blog/" class="sidebar-item" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/yjj-blog/basic/" class="sidebar-item sidebar-heading" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yjj-blog/basic/JavaScript/jsType.md" class="sidebar-item" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yjj-blog/basic/JavaScript/token.md" class="sidebar-item" aria-label="JavaScript词法"><!--[--><!--]--> JavaScript词法 <!--[--><!--]--></a><!----></li><li><a href="/yjj-blog/basic/JavaScript/jsType.md" class="sidebar-item" aria-label="JavaScript类型"><!--[--><!--]--> JavaScript类型 <!--[--><!--]--></a><!----></li><li><a href="/yjj-blog/basic/JavaScript/semicolon.md" class="sidebar-item" aria-label="自动插入分号规则"><!--[--><!--]--> 自动插入分号规则 <!--[--><!--]--></a><!----></li><li><a href="/yjj-blog/basic/JavaScript/symbol.md" class="sidebar-item" aria-label="Symbol类型"><!--[--><!--]--> Symbol类型 <!--[--><!--]--></a><!----></li><li><a href="/yjj-blog/basic/JavaScript/arrayFrom.md" class="sidebar-item" aria-label="Array.from"><!--[--><!--]--> Array.from <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/yjj-blog/basic/ES6/call.md" class="sidebar-item" aria-label="ES6"><!--[--><!--]--> ES6 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yjj-blog/basic/ES6/call.md" class="sidebar-item" aria-label="call"><!--[--><!--]--> call <!--[--><!--]--></a><!----></li><li><a href="/yjj-blog/basic/ES6/class.md" class="sidebar-item" aria-label="class"><!--[--><!--]--> class <!--[--><!--]--></a><!----></li><li><a href="/yjj-blog/basic/ES6/var.md" class="sidebar-item" aria-label="var、let、const的区别"><!--[--><!--]--> var、let、const的区别 <!--[--><!--]--></a><!----></li><li><a href="/yjj-blog/basic/ES6/findIndex.md" class="sidebar-item" aria-label="findIndex"><!--[--><!--]--> findIndex <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/yjj-blog/basic/ES7/arrayIncludes.md" class="sidebar-item" aria-label="ES7"><!--[--><!--]--> ES7 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yjj-blog/basic/ES7/arrayIncludes.md" class="sidebar-item" aria-label="Array.prototype.includes"><!--[--><!--]--> Array.prototype.includes <!--[--><!--]--></a><!----></li><li><a href="/yjj-blog/basic/ES7/exponentiationOperator.md" class="sidebar-item" aria-label="Exponentiation Operator"><!--[--><!--]--> Exponentiation Operator <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/yjj-blog/basic/ES11/nullOperator.md" class="sidebar-item" aria-label="ES11"><!--[--><!--]--> ES11 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yjj-blog/basic/ES11/nullOperator.md" class="sidebar-item" aria-label="空值合并运算符"><!--[--><!--]--> 空值合并运算符 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/yjj-blog/basic/work/objectKeys.md" class="sidebar-item" aria-label="实用方法"><!--[--><!--]--> 实用方法 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yjj-blog/basic/work/objectKeys.md" class="sidebar-item" aria-label="判断对象是否为空"><!--[--><!--]--> 判断对象是否为空 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/yjj-blog/html/" class="sidebar-item sidebar-heading" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yjj-blog/html/semantic.md" class="sidebar-item" aria-label="语义化"><!--[--><!--]--> 语义化 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/yjj-blog/browser/webPage" class="sidebar-item sidebar-heading active" aria-label="浏览器"><!--[--><!--]--> 浏览器 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yjj-blog/browser/webPage.md" class="sidebar-item" aria-label="网页打开"><!--[--><!--]--> 网页打开 <!--[--><!--]--></a><!----></li><li><a href="/yjj-blog/browser/UDP&amp;TCP.md" class="sidebar-item" aria-label="UDP和TCP的区别"><!--[--><!--]--> UDP和TCP的区别 <!--[--><!--]--></a><!----></li><li><a href="/yjj-blog/browser/performance.md" class="sidebar-item active" aria-label="性能优化"><!--[--><!--]--> 性能优化 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/yjj-blog/leetcode/LinkList" class="sidebar-item sidebar-heading" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yjj-blog/leetcode/desginLinkedList.md" class="sidebar-item" aria-label="设计链表"><!--[--><!--]--> 设计链表 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/yjj-blog/person/yunnan" class="sidebar-item sidebar-heading" aria-label="个人"><!--[--><!--]--> 个人 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yjj-blog/person/yunnan.md" class="sidebar-item" aria-label="云南攻略"><!--[--><!--]--> 云南攻略 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="性能优化" tabindex="-1"><a class="header-anchor" href="#性能优化" aria-hidden="true">#</a> 性能优化</h1><p>👩🏻‍💻十三月   🕰️ 2023-09-11</p><h2 id="网络优化" tabindex="-1"><a class="header-anchor" href="#网络优化" aria-hidden="true">#</a> 网络优化</h2><h3 id="使用cdn-内容分发网络" tabindex="-1"><a class="header-anchor" href="#使用cdn-内容分发网络" aria-hidden="true">#</a> 使用CDN(内容分发网络)</h3><p>CDN是一组分散在不同地理位置的web服务器，用来给用户更高效地发送内容。</p><p>选择用来发送内容的服务器是基于网络距离的衡量标准的，例如：选跳数（hop）最少的获取响应时间最快的服务器</p><h3 id="压缩响应" tabindex="-1"><a class="header-anchor" href="#压缩响应" aria-hidden="true">#</a> 压缩响应</h3><p>压缩响应通过减少http请求产生的响应表的大小，从而降低传输时间的方式来提高性能。 web客户端通过请求头中的<code>Accept-Encoding</code>来标识对压缩的支持，如<code>gzip, deflate, br</code> web服务器通过响应头中的<code>Content-Encoding</code>来告知web客户端使用哪种方式进行的压缩</p><h3 id="避免图片src为空" tabindex="-1"><a class="header-anchor" href="#避免图片src为空" aria-hidden="true">#</a> 避免图片src为空</h3><p>虽然src属性为空字符串，但是浏览器任然会向服务器发起一个HTTP请求</p><h2 id="页面渲染优化" tabindex="-1"><a class="header-anchor" href="#页面渲染优化" aria-hidden="true">#</a> 页面渲染优化</h2><h2 id="js中的性能优化" tabindex="-1"><a class="header-anchor" href="#js中的性能优化" aria-hidden="true">#</a> JS中的性能优化</h2><h2 id="图片的优化" tabindex="-1"><a class="header-anchor" href="#图片的优化" aria-hidden="true">#</a> 图片的优化</h2><h2 id="webpack打包优化" tabindex="-1"><a class="header-anchor" href="#webpack打包优化" aria-hidden="true">#</a> webpack打包优化</h2><h3 id="缩小loader匹配范围" tabindex="-1"><a class="header-anchor" href="#缩小loader匹配范围" aria-hidden="true">#</a> 缩小loader匹配范围</h3><p>可以使用test，include，exclude三个配置项来缩小loader的处理范围 推荐使用include</p><h3 id="计算页面加载时间脚本" tabindex="-1"><a class="header-anchor" href="#计算页面加载时间脚本" aria-hidden="true">#</a> 计算页面加载时间脚本</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token punctuation">[</span><span class="token keyword">if</span> <span class="token constant">IE</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>html<span class="token punctuation">,</span>body<span class="token punctuation">{</span><span class="token literal-property property">overflow</span><span class="token operator">:</span>hidden<span class="token punctuation">;</span>height<span class="token operator">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>background<span class="token operator">:</span> #00ff00<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;tb-ie-updater-layer&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;position:absolute;left: 0;top: 0;bottom: 0;right: 0;width: 100%;height: 100%;background-color: #000;filter: alpha(opacity=50);opacity: 0.5;z-index: 999999&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;tb-ie-updater-box&quot;</span> data<span class="token operator">-</span>spm<span class="token operator">=</span><span class="token string">&quot;20161112&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;position:absolute;left: 50%;top: 50%;margin-left: -292px;margin-top: -210px;width: 584px;height: 420px;&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;https://www.google.cn/intl/zh-CN/chrome/browser/desktop/&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;tb-ie-updater-google&quot;</span> target<span class="token operator">=</span><span class="token string">&quot;_blank&quot;</span> data<span class="token operator">-</span>spm<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;gostr=/tbieupdate;locaid=d1;name=google&quot;</span><span class="token operator">&gt;</span>谷歌 Chrome<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;http://www.uc.cn/ucbrowser/download/&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;tb-ie-updater-uc&quot;</span> target<span class="token operator">=</span><span class="token string">&quot;_blank&quot;</span> data<span class="token operator">-</span>spm<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;gostr=/tbieupdate20161112;locaid=d2;name=uc&quot;</span><span class="token operator">&gt;</span><span class="token constant">UC</span> 浏览器<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span>endif<span class="token punctuation">]</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script id<span class="token operator">=</span><span class="token string">&quot;__NEXT_COUNT__&quot;</span><span class="token operator">&gt;</span>
    <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token string">&quot;#1475b2&quot;</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token string">&quot;#42c02e&quot;</span><span class="token punctuation">,</span> <span class="token function-variable function">u</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> t <span class="token operator">=</span> e<span class="token punctuation">.</span>title<span class="token punctuation">,</span> r <span class="token operator">=</span> e<span class="token punctuation">.</span>content<span class="token punctuation">,</span> n <span class="token operator">=</span> e<span class="token punctuation">.</span>backgroundColor<span class="token punctuation">,</span>
            a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;%c &quot;</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token string">&quot; %c &quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">&quot;padding: 1px; border-radius: 3px 0 0 3px; color: #fff; background: &quot;</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">&quot;#606060&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">&quot;padding: 1px; border-radius: 0 3px 3px 0; color: #fff; background: &quot;</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token string">&quot;;&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> e<span class="token punctuation">;</span>
            window<span class="token punctuation">.</span>console <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">===</span> <span class="token keyword">typeof</span> window<span class="token punctuation">.</span>console<span class="token punctuation">.</span>log <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> console<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> a
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> t <span class="token operator">=</span> e<span class="token punctuation">.</span>title<span class="token punctuation">,</span> r <span class="token operator">=</span> e<span class="token punctuation">.</span>content<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">u</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">title</span><span class="token operator">:</span> t<span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> r<span class="token punctuation">,</span> <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> i<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span>  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> e <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> t <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">&quot;navigation&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                t <span class="token operator">||</span> <span class="token punctuation">(</span>r <span class="token operator">=</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> e<span class="token punctuation">.</span>timing<span class="token punctuation">)</span><span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;Redirect&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;\u7f51\u9875\u91cd\u5b9a\u5411\u7684\u8017\u65f6&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">value</span><span class="token operator">:</span> t<span class="token punctuation">.</span>redirectEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>redirectStart
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;AppCache&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;\u68c0\u67e5\u672c\u5730\u7f13\u5b58\u7684\u8017\u65f6&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">value</span><span class="token operator">:</span> t<span class="token punctuation">.</span>domainLookupStart <span class="token operator">-</span> t<span class="token punctuation">.</span>fetchStart
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;DNS&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;DNS\u67e5\u8be2\u7684\u8017\u65f6&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">value</span><span class="token operator">:</span> t<span class="token punctuation">.</span>domainLookupEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>domainLookupStart
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;TCP&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;TCP\u8fde\u63a5\u7684\u8017\u65f6&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">value</span><span class="token operator">:</span> t<span class="token punctuation">.</span>connectEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>connectStart
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;Waiting(TTFB)&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;\u4ece\u5ba2\u6237\u7aef\u53d1\u8d77\u8bf7\u6c42\u5230\u63a5\u6536\u5230\u54cd\u5e94\u7684\u65f6\u95f4 / Time To First Byte&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">value</span><span class="token operator">:</span> t<span class="token punctuation">.</span>responseStart <span class="token operator">-</span> t<span class="token punctuation">.</span>requestStart
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;Content Download&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;\u4e0b\u8f7d\u670d\u52a1\u7aef\u8fd4\u56de\u6570\u636e\u7684\u65f6\u95f4&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">value</span><span class="token operator">:</span> t<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>responseStart
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;HTTP Total Time&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;http\u8bf7\u6c42\u603b\u8017\u65f6&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">value</span><span class="token operator">:</span> t<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>requestStart
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;DOMContentLoaded&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;dom\u52a0\u8f7d\u5b8c\u6210\u7684\u65f6\u95f4&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">value</span><span class="token operator">:</span> t<span class="token punctuation">.</span>domContentLoadedEventEnd <span class="token operator">-</span> r
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;Loaded&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;\u9875\u9762load\u7684\u603b\u8017\u65f6&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> t<span class="token punctuation">.</span>loadEventEnd <span class="token operator">-</span> r<span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">.75</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">var</span> s <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">,</span> i <span class="token operator">=</span> s<span class="token punctuation">.</span>href<span class="token punctuation">,</span> c <span class="token operator">=</span> s<span class="token punctuation">.</span>pathname<span class="token punctuation">,</span> u <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">,</span>
                        d <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                    <span class="token doc-comment comment">/** aPlus-performance upload */</span>
                <span class="token punctuation">}</span>
                console <span class="token operator">&amp;&amp;</span> console<span class="token punctuation">.</span>log <span class="token operator">&amp;&amp;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/yjj-blog/assets/app-b5630a42.js" defer></script>
  </body>
</html>
